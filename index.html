<!DOCTYPE html>
<html>
<title>XKCD</title>

<body>

  <p>Current comic</p>
  <div id="comic">No comic</div>
  
</body>

<script>
/* global fetch */
/*global json*/
  var myurl = 'https://xkcd.vercel.app/?comic=latest';
  console.log(myurl);
  fetch(myurl, {mode: 'cors'})
    .then(function(response) {
      return response.json();
    }).then(function(json) {
      console.log(json);
      const alt = document.createTextNode(json["alt"]);
      const container = document.getElementById("comic");
      container.textContent = "";
      container.appendChild(alt);
    });
    
  let everything = "<p>";
  everything += json["alt"];
  everything += "</p>" + '<img src="'+json["img"]+'"></img>"';
  document.getElementById("comic").innerHTML = everything;
</script>
</html>